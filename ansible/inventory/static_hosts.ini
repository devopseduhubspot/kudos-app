# ==============================================================================
# STATIC INVENTORY EXAMPLE
# ==============================================================================
# Use this file for manual inventory management or when testing locally
# Replace IP addresses with your actual EC2 instance IPs after deployment
# ==============================================================================

[webservers]
# Replace these IPs with actual EC2 instance public IPs after terraform apply
# web-server-1 ansible_host=3.xxx.xxx.xxx ansible_user=ec2-user
# web-server-2 ansible_host=3.xxx.xxx.xxx ansible_user=ec2-user

[webservers:vars]
# Common variables for all web servers
ansible_ssh_private_key_file=../terraform-ec2/kudos-app-dev-key.pem
ansible_ssh_common_args='-o StrictHostKeyChecking=no'
app_name=kudos-app
app_port=3000
app_environment=production
node_env=production

[loadbalancers]
# If you have separate load balancer instances (not using AWS ALB)
# lb-server ansible_host=x.xxx.xxx.xxx ansible_user=ec2-user

[database]
# If you have database servers
# db-server ansible_host=x.xxx.xxx.xxx ansible_user=ec2-user

# Group all servers together
[all_servers:children]
webservers
loadbalancers
database

[all_servers:vars]
# Global variables for all servers
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_python_interpreter=/usr/bin/python3

# ==============================================================================
# INSTRUCTIONS FOR POPULATING INVENTORY
# ==============================================================================
# After running 'terraform apply', get the instance IPs:
#
# 1. From AWS Console:
#    - Go to EC2 â†’ Instances
#    - Find instances tagged with "kudos-app"
#    - Copy their public IP addresses
#
# 2. From command line:
#    aws ec2 describe-instances \
#      --filters "Name=tag:Project,Values=kudos-app" \
#              "Name=instance-state-name,Values=running" \
#      --query 'Reservations[*].Instances[*].[Tags[?Key==`Name`].Value|[0],PublicIpAddress]' \
#      --output table
#
# 3. From Terraform output:
#    terraform output ansible_inventory_command
#
# Then replace the commented lines above with actual IP addresses
# ==============================================================================